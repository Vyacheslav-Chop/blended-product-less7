import"./assets/styles-DxcMbWHA.js";import{i as P,a as q}from"./assets/vendor-CG2pNq4b.js";const a=12;let y=1;const u={homeProducts:document.querySelector('.products[data-page="home"]'),wishListProducts:document.querySelector('.products[data-page="wishlist"]'),homeCategories:document.querySelector(".categories"),notFoundDiv:document.querySelector(".not-found"),form:document.querySelector(".search-form"),modalProduct:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),loadMoreBtn:document.querySelector(".load-more-btn")},{loadMoreBtn:w,homeProducts:A}=u;async function p(t){const{data:o}=await q.get(t);return o}function n(t){P.error({message:t,position:"bottomRight",backgroundColor:"#ef4040",messageColor:"#ffffff",maxWidth:"400"})}function b(t){t.innerHTML=""}function R(t,o){const e=t.querySelector(".categories__btn--active");e&&e.classList.remove("categories__btn--active"),o.classList.add("categories__btn--active")}function L(t){P.info({message:t,position:"bottomCenter",maxWidth:"400"})}function j(){const e=document.querySelector(".products__item").getBoundingClientRect().height;window.scrollBy({top:e*1.5,behavior:"smooth"})}function I(t){return t.map(o=>`<li>${o}</li>`).join("")}function T(){w.hidden=!1}function B(){w.hidden=!0}function m(t,o){console.log(`Current page: ${o}, Total: ${t}`),o*12>=t?(L("There are no more products to load at the moment."),B(),console.log("No more products to load. Button hidden.")):(T(),console.log("More products available. Button shown."))}function h(t){A.insertAdjacentHTML("beforeend",O(t))}async function g(t=1){const o=(t-1)*a,e=`https://dummyjson.com/products?limit=${a}&skip=${o}`;return p(e)}async function U(){return p("https://dummyjson.com/products/category-list")}async function C(t,o=1){const e="https://dummyjson.com/products/category/",c=(o-1)*a,s=`${e}${t}?limit=${a}&skip=${c}`;return p(s)}async function S(t,o=1){const e="https://dummyjson.com/products/search",c=(o-1)*a,s=`${e}?q=${t}&limit=${a}&skip=${c}`;return p(s)}async function x(t){const e=`https://dummyjson.com/products/${t}`;return p(e)}const{homeCategories:D,homeProducts:_,modalProduct:H}=u;function O(t){return t.map(({id:o,title:e,brand:c,category:s,price:i,thumbnail:f})=>`
  <li class="products__item" data-id="${o}">
    <img class="products__image" src="${f}" alt="${e}"/>
    <p class="products__title">${e}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span>${c}</p>
    <p class="products__category">Category: ${s}</p>
    <p class="products__price">Price: $${i}</p>
 </li>`).join("")}async function v(){try{const{products:t,total:o}=await g(y);h(t),m(o,y),_.style.position="relative",_.style.paddingBottom="60px"}catch(t){console.error("Error while fetching products:",t),n("Something went wrong while loading products. Please try again later.")}}function F(t){return t.map(o=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${o}</button>
 </li>`).join("")}async function N(){try{const o=["All",...await U()];D.innerHTML=F(o)}catch{n("Something went wrong while loading categories. Please try again later.")}}function W(t){const{title:o,description:e,price:c,tags:s,images:i,shippingInformation:f,returnPolicy:E}=t;return`<img class="modal-product__img" src="${(i==null?void 0:i[0])||""}" alt="${o}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${o}</p>
        <ul class="modal-product__tags">${I(s)}</ul>
        <p class="modal-product__description">${e}</p>
        <p class="modal-product__shipping-information">Shipping: ${f}</p>
        <p class="modal-product__return-policy">Return Policy: ${E}</p>
        <p class="modal-product__price">Price: $${c}</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`}async function z(t){try{const o=await x(t);H.innerHTML=W(o)}catch{n("Failed to load product information. Please try again later.")}}const{modal:M}=u;function V(){M.classList.add("modal--is-open")}function G(){M.classList.remove("modal--is-open")}function J(t){const o=t.target.closest(".products__item");if(!o)return;const e=Number(o.dataset.id);e&&(z(e),V())}const{homeCategories:K,homeProducts:k,notFoundDiv:Q,form:$}=u;let l="",r=1,d="";async function X(t){if(t.target.classList.contains("categories__btn")){d=t.target.textContent.trim(),R(K,t.target),r=1,b(k);try{let o;d==="All"?o=await g(r):o=await C(d,r);const{products:e,total:c}=o;e.length===0?Q.classList.add("not-found--visible"):(h(e),m(c,r))}catch(o){console.error("Oops! Couldn't fetch products:",o),n("Oops! Couldn't fetch products. Check your connection or try again.")}}}async function Y(t){if(t.preventDefault(),r=1,b(k),l=$.elements.searchValue.value.trim(),!l){n("Please fill in the search field!");return}try{const{products:o,total:e}=await S(l,r);if(o.length===0){v(),n("Unfortunately, no results were found for this query.");return}h(o),m(e,r)}catch(o){console.error("An error occurred while searching for products:",o),n("An error occurred while searching for products. Please try again later.")}finally{$.reset()}}function Z(t){const o=t.target.closest(".modal__close-btn");t.target.closest(".modal-product__btn--cart"),o&&G()}async function tt(t){r++,B();try{let o;l?o=await S(l,r):d?o=await C(d,r):o=await g(r);const{products:e,total:c}=o;e.length===0?L("No products found matching your search criteria."):(h(e),setTimeout(()=>j()),m(c,r))}catch{n("Oops! Something went wrong. Please try again later.")}}const{homeCategories:ot,form:et,homeProducts:rt,modal:ct,loadMoreBtn:nt}=u;v();N();ot.addEventListener("click",X);et.addEventListener("submit",Y);rt.addEventListener("click",J);ct.addEventListener("click",Z);nt.addEventListener("click",tt);
//# sourceMappingURL=index.js.map
