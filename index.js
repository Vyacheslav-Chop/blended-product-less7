import"./assets/styles-CIcvoXZ8.js";import{i as w,a as E}from"./assets/vendor-CG2pNq4b.js";const i=12;let _=1;const p={homeProducts:document.querySelector('.products[data-page="home"]'),wishListProducts:document.querySelector('.products[data-page="wishlist"]'),homeCategories:document.querySelector(".categories"),notFoundDiv:document.querySelector(".not-found"),form:document.querySelector(".search-form"),modalProduct:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),loadMoreBtn:document.querySelector(".load-more-btn")},{loadMoreBtn:P,homeProducts:at}=p;async function m(o){const{data:t}=await E.get(o);return t}function n(o){w.error({message:o,position:"bottomRight",backgroundColor:"#ef4040",messageColor:"#ffffff",maxWidth:"400"})}function b(o){o.innerHTML=""}function A(o,t){const e=o.querySelector(".categories__btn--active");e&&e.classList.remove("categories__btn--active"),t.classList.add("categories__btn--active")}function L(o){w.info({message:o,position:"bottomCenter",maxWidth:"400"})}function q(){const e=document.querySelector(".products__item").getBoundingClientRect().height;window.scrollBy({top:e*1.5,behavior:"smooth"})}function R(o){return o.map(t=>`<li>${t}</li>`).join("")}function j(){P.hidden=!1}function C(){P.hidden=!0}function f(o,t){console.log(`Current page: ${t}, Total: ${o}`),t*12>=o?(L("There are no more products to load at the moment."),C(),console.log("No more products to load. Button hidden.")):(j(),console.log("More products available. Button shown."))}function g(o,t){o.insertAdjacentHTML("beforeend",H(t))}async function h(o=1){const t=(o-1)*i,e=`https://dummyjson.com/products?limit=${i}&skip=${t}`;return m(e)}async function I(){return m("https://dummyjson.com/products/category-list")}async function B(o,t=1){const e="https://dummyjson.com/products/category/",c=(t-1)*i,s=`${e}${o}?limit=${i}&skip=${c}`;return m(s)}async function S(o,t=1){const e="https://dummyjson.com/products/search",c=(t-1)*i,s=`${e}?q=${o}&limit=${i}&skip=${c}`;return m(s)}async function T(o){const e=`https://dummyjson.com/products/${o}`;return m(e)}const{homeCategories:U,homeProducts:x,modalProduct:D}=p;function H(o){return o.map(({id:t,title:e,brand:c,category:s,price:l,thumbnail:y})=>`
  <li class="products__item" data-id="${t}">
    <img class="products__image" src="${y}" alt="${e}"/>
    <p class="products__title">${e}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span>${c}</p>
    <p class="products__category">Category: ${s}</p>
    <p class="products__price">Price: $${l}</p>
 </li>`).join("")}async function v(){try{const{products:o,total:t}=await h(_);g(x,o),f(t,_)}catch(o){console.error("Error while fetching products:",o),n("Something went wrong while loading products. Please try again later.")}}function O(o){return o.map(t=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${t}</button>
 </li>`).join("")}async function F(){try{const t=["All",...await I()];U.innerHTML=O(t)}catch{n("Something went wrong while loading categories. Please try again later.")}}function N(o){const{title:t,description:e,price:c,tags:s,images:l,shippingInformation:y,returnPolicy:k}=o;return`<img class="modal-product__img" src="${(l==null?void 0:l[0])||""}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${R(s)}</ul>
        <p class="modal-product__description">${e}</p>
        <p class="modal-product__shipping-information">Shipping: ${y}</p>
        <p class="modal-product__return-policy">Return Policy: ${k}</p>
        <p class="modal-product__price">Price: $${c}</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`}async function W(o){try{const t=await T(o);D.innerHTML=N(t)}catch{n("Failed to load product information. Please try again later.")}}const{modal:M}=p;function z(){M.classList.add("modal--is-open")}function V(){M.classList.remove("modal--is-open")}function G(o){const t=o.target.closest(".products__item");if(!t)return;const e=Number(t.dataset.id);e&&(W(e),z())}const{homeCategories:J,homeProducts:u,notFoundDiv:K,form:$}=p;let d="",r=1,a="";async function Q(o){if(o.target.classList.contains("categories__btn")){a=o.target.textContent.trim(),A(J,o.target),r=1,b(u);try{let t;a==="All"?t=await h(r):t=await B(a,r);const{products:e,total:c}=t;e.length===0?K.classList.add("not-found--visible"):(g(u,e),f(c,r))}catch(t){console.error("Oops! Couldn't fetch products:",t),n("Oops! Couldn't fetch products. Check your connection or try again.")}}}async function X(o){if(o.preventDefault(),r=1,b(u),d=$.elements.searchValue.value.trim(),!d){n("Please fill in the search field!");return}try{const{products:t,total:e}=await S(d,r);if(t.length===0){v(),n("Unfortunately, no results were found for this query.");return}g(u,t),f(e,r)}catch(t){console.error("An error occurred while searching for products:",t),n("An error occurred while searching for products. Please try again later.")}finally{$.reset()}}function Y(o){const t=o.target.closest(".modal__close-btn");o.target.closest(".modal-product__btn--cart"),t&&V()}async function Z(o){r++,C();try{let t;d?t=await S(d,r):a?a==="All"?t=await h(r):t=await B(a,r):t=await h(r);const{products:e,total:c}=t;e.length===0?L("No products found matching your search criteria."):(g(u,e),setTimeout(()=>q()),f(c,r))}catch{n("Oops! Something went wrong. Please try again later.")}}const{homeCategories:tt,form:ot,homeProducts:et,modal:rt,loadMoreBtn:ct}=p;v();F();tt.addEventListener("click",Q);ot.addEventListener("submit",X);et.addEventListener("click",G);rt.addEventListener("click",Y);ct.addEventListener("click",Z);
//# sourceMappingURL=index.js.map
