import"./assets/styles-DxcMbWHA.js";import{i as w,a as q}from"./assets/vendor-CG2pNq4b.js";const a=12;let $=1;const p={homeProducts:document.querySelector('.products[data-page="home"]'),wishListProducts:document.querySelector('.products[data-page="wishlist"]'),homeCategories:document.querySelector(".categories"),notFoundDiv:document.querySelector(".not-found"),form:document.querySelector(".search-form"),modalProduct:document.querySelector(".modal-product"),modal:document.querySelector(".modal"),loadMoreBtn:document.querySelector(".load-more-btn")},{loadMoreBtn:b,homeProducts:at}=p;async function m(o){const{data:t}=await q.get(o);return t}function n(o){w.error({message:o,position:"bottomRight",backgroundColor:"#ef4040",messageColor:"#ffffff",maxWidth:"400"})}function L(o){o.innerHTML=""}function A(o,t){const e=o.querySelector(".categories__btn--active");e&&e.classList.remove("categories__btn--active"),t.classList.add("categories__btn--active")}function B(o){w.info({message:o,position:"bottomCenter",maxWidth:"400"})}function R(){const e=document.querySelector(".products__item").getBoundingClientRect().height;window.scrollBy({top:e*1.5,behavior:"smooth"})}function j(o){return o.map(t=>`<li>${t}</li>`).join("")}function I(){b.hidden=!1}function C(){b.hidden=!0}function h(o,t){console.log(`Current page: ${t}, Total: ${o}`),t*12>=o?(B("There are no more products to load at the moment."),C(),console.log("No more products to load. Button hidden.")):(I(),console.log("More products available. Button shown."))}function f(o,t){o.insertAdjacentHTML("beforeend",H(t))}async function _(o=1){const t=(o-1)*a,e=`https://dummyjson.com/products?limit=${a}&skip=${t}`;return m(e)}async function T(){return m("https://dummyjson.com/products/category-list")}async function S(o,t=1){const e="https://dummyjson.com/products/category/",c=(t-1)*a,s=`${e}${o}?limit=${a}&skip=${c}`;return m(s)}async function v(o,t=1){const e="https://dummyjson.com/products/search",c=(t-1)*a,s=`${e}?q=${o}&limit=${a}&skip=${c}`;return m(s)}async function U(o){const e=`https://dummyjson.com/products/${o}`;return m(e)}const{homeCategories:x,homeProducts:y,modalProduct:D}=p;function H(o){return o.map(({id:t,title:e,brand:c,category:s,price:i,thumbnail:g})=>`
  <li class="products__item" data-id="${t}">
    <img class="products__image" src="${g}" alt="${e}"/>
    <p class="products__title">${e}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span>${c}</p>
    <p class="products__category">Category: ${s}</p>
    <p class="products__price">Price: $${i}</p>
 </li>`).join("")}async function M(){try{const{products:o,total:t}=await _($);f(y,o),h(t,$),y.style.position="relative",y.style.paddingBottom="60px"}catch(o){console.error("Error while fetching products:",o),n("Something went wrong while loading products. Please try again later.")}}function O(o){return o.map(t=>`
    <li class="categories__item">
   <button class="categories__btn" type="button">${t}</button>
 </li>`).join("")}async function F(){try{const t=["All",...await T()];x.innerHTML=O(t)}catch{n("Something went wrong while loading categories. Please try again later.")}}function N(o){const{title:t,description:e,price:c,tags:s,images:i,shippingInformation:g,returnPolicy:E}=o;return`<img class="modal-product__img" src="${(i==null?void 0:i[0])||""}" alt="${t}" />
      <div class="modal-product__content">
        <p class="modal-product__title">${t}</p>
        <ul class="modal-product__tags">${j(s)}</ul>
        <p class="modal-product__description">${e}</p>
        <p class="modal-product__shipping-information">Shipping: ${g}</p>
        <p class="modal-product__return-policy">Return Policy: ${E}</p>
        <p class="modal-product__price">Price: $${c}</p>
        <button class="modal-product__buy-btn" type="button">Buy</button>
      </div>`}async function W(o){try{const t=await U(o);D.innerHTML=N(t)}catch{n("Failed to load product information. Please try again later.")}}const{modal:k}=p;function z(){k.classList.add("modal--is-open")}function V(){k.classList.remove("modal--is-open")}function G(o){const t=o.target.closest(".products__item");if(!t)return;const e=Number(t.dataset.id);e&&(W(e),z())}const{homeCategories:J,homeProducts:u,notFoundDiv:K,form:P}=p;let l="",r=1,d="";async function Q(o){if(o.target.classList.contains("categories__btn")){d=o.target.textContent.trim(),A(J,o.target),r=1,L(u);try{let t;d==="All"?t=await _(r):t=await S(d,r);const{products:e,total:c}=t;e.length===0?K.classList.add("not-found--visible"):(f(u,e),h(c,r))}catch(t){console.error("Oops! Couldn't fetch products:",t),n("Oops! Couldn't fetch products. Check your connection or try again.")}}}async function X(o){if(o.preventDefault(),r=1,L(u),l=P.elements.searchValue.value.trim(),!l){n("Please fill in the search field!");return}try{const{products:t,total:e}=await v(l,r);if(t.length===0){M(),n("Unfortunately, no results were found for this query.");return}f(u,t),h(e,r)}catch(t){console.error("An error occurred while searching for products:",t),n("An error occurred while searching for products. Please try again later.")}finally{P.reset()}}function Y(o){const t=o.target.closest(".modal__close-btn");o.target.closest(".modal-product__btn--cart"),t&&V()}async function Z(o){r++,C();try{let t;l?t=await v(l,r):d?t=await S(d,r):t=await _(r);const{products:e,total:c}=t;e.length===0?B("No products found matching your search criteria."):(f(u,e),setTimeout(()=>R()),h(c,r))}catch{n("Oops! Something went wrong. Please try again later.")}}const{homeCategories:tt,form:ot,homeProducts:et,modal:rt,loadMoreBtn:ct}=p;M();F();tt.addEventListener("click",Q);ot.addEventListener("submit",X);et.addEventListener("click",G);rt.addEventListener("click",Y);ct.addEventListener("click",Z);
//# sourceMappingURL=index.js.map
